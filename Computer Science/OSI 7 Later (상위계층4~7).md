# 2023.02.19 (일)

# ✍️ What I learned Today ?

---
## ✨OSI 7계층 (4~7 계층)

📌*들어가기 전에..*

OSI 7계층은 기종이 서로 다른 컴퓨터간의 정보교환을 원활히 하기 위해 국제 표준화 기구 ISO 에서 제정했다. 네트워크를 이루고 있는 구성 요소들을 계층적 구조로 나누고 각 계층의 표준을 정한 것이다.

암기법 : 응표세트네데물 (응표라는 친구가 세트장에서 내 대신 물먹었다)

네데물 : 하위계층

응표세트: 상위계층

---

#### 4. 전송 계층 ( Transport Layer)
> 1~3계층을 거쳐, 우리는 모든 데이터를 송수신 할 수 있게 되었다. 하지만, 하나의 컴퓨터에는 실행하고 있는 프로세스가 여러개가 있을 수 있다. 전달 받은 데이터를 어떤 프로그램이 사용할 지 어떻게 구분을 할까? 

먼저, 데이터를 받고자 하는 프로세스들은 포트번호를 가져야 한다. 

**포트번호**란? 하나의 컴퓨터에서 동시에 실행되고 있는 프로세스들이 서로 겹치지 않게 가져야 하는 장소값이다.

송신자가 데이터를 보낼때는, 프로세스 포트 번호를 데이터 앞에 붙여줘야 한다.

즉, 트랜스포트 레이어는 포트번호란 것을 사용해서 '진짜 최종 도착지'인 `프로세스`에 데이터를 도달하게 하는 모델이다.

    
    논리적 안정과 균일한 데이터 전송 서비스를 제공
    TCP와 UDP 프로토콜을 통해 통신을 활성화 한다. 
  - TCP 양방향 연결형 서비스, 가상회선 서비스, 스트림 위주의 패킷전달, 순서제어, 오류제어, 흐름제어
    - **신뢰성 있는 경로를 확립하고 나서 메시지 전송 → 속도 느림**
   <br>
  - UDP : 데이터 전송전에 연결 설정을 하지 않는 비연결 서비스 제공,   TCP에 비해 상대적으로 단순한 헤더구조, 오버헤드가 적고 흐름제어나 순서제어가 없어 속도 빠름.
      - 빠르게 전송해야 하는 경우, 동시에 여러사용자에게 전달할 경우, 정기적으로 반복해서 전송할 경우에 사용. 
      - **빠르지만 신뢰성이 조금 떨어짐**

  <br>
  
  - 데이터 단위 : 세그먼트(Segment )
  - Transport Layer는 운영체제의 커널에 **소프트웨어적**으로 구현 
 

---
#### 5. 세션 계층 (Session Layer)

    💡 키워드 : 메시지,동기화

- 1계층에서 4계층 까지의 주된 기능이 `데이터전달` 이였다면, 5계층 부터는 데이터를 송수신하는 양쪽 컴퓨터의 `프로세스's 통신 프로토콜`이라고 할 수 있다.

- 송수신측 양쪽의 관련성을 유지하고 대화 제어를 담당한다.

- 응용프로그램 간의 통신을 하기위한 세션을 확립,유지,중단하는 작업을 수행한다.

- 동기화: 통신 양단에서 서로 동의하는 논리적인 공통처리 지점으로써, 동기점을 설정하기 위해 사용된다.

- 동기점 : 송수신 측간의 대화 동기를 위해 전송하는 정보를 일정한 부분에 두어 정보의 수신상태를 체크하는 포인트

---
#### 6.표현 계층 (Presentation Layer)

- 데이터를 응용계층, 세션계층에 보내기 전에 계층에 맞게 변환

- 서로 다른 데이터 표현 형태를 갖는 시스템 간 상호접속을 위해 필요한 계층

- 코드변환, 데이터 암호화&복호화, 데이터 구축, 구문검색, 정보형식 변환, 문맥 관리기능 
---
#### 7. 응용 계층 (Application Layer)
 - 유저와 가장 가까운 층으로, 사용자가 OSI 환경에 접속할 수 있도록 서비스 제공한다.
 
 - 프로세스 간의 정보 교환, 전자 사서함, 가상 터미널 등의 서비스 제공

        💡 응용 계층의 주요 프로토콜 : 
        - FTP : 컴퓨터-컴퓨터, 또는 컴퓨터-인터넷 사이에서  파일을 주고받을 수 있도록 하는 원격 파일 전송 프로토콜
        - SMTP : 전자 우편 교환 서비스
        - DNS : 도메인 네임 IP주소와 매핑
        - MQTT : 발생-구독 기반의 메시징 프로토콜로 IoT 환경에서 자주 사용한다.
        - HTTP 

---

####  예시) 이메일을 보내는 과정

1. 작성된 메세지는 Application 계층(7계층)에서 Presentation 계층(6계층)으로 전달하게 된다.


2. Presentation 계층(6계층)에서는 전달된 메세지를 데이터로 변환 하거나, 암호화 또는 압축을 수행한다. 이렇게 변한된 데이터는 Session 계층(5계층)으로 전달되게 된다.


3. Session 계층(5계층)으로 전달된 데이터는 동기화를 위하여 주기적으로 동기점(sync)을 삽입하여 Transport 계층(4계층)으로 데이터를 전달하게 된다.


4. Transport 계층(4계층)에서는 발신지와 목적지를 정하고 연결 방식을 연결성, 비연결성 방식으로 설정하여, 흐름 제어와 오류 제어 기능을 한다. 데이터 단위를 Segment 또는 Datagram으로 나눈다. 만약에 악성코드가 있을 경우 방화벽이 작동을 해서 걸러준다.


5. Network 계층(3계층)에서 라우팅에 필요한 논리 주소를 설정하고, 패킷에 대한 라우팅 정보를 삽입한다.


6. Data Link 계층(2계층)에는 우선 Frame 단위로 데이터를 나눈다. 그리고 MAC 주소로 지정을 하고 속도 차이를 원할히 메꾸기 위해서 흐름 제어를 한다.


7. Physical 계층(1계층)에는 전송 매체가 일반 케이블인지 광케이블인지 메체의 길이를 설정한다. 그리고 데이터를 회선으로 보내기 위해 전기적인 변환을 담당한다.


---

#### ✨TCP/IP

- **TCP/IP** : 인터넷에 연결된 서로 다른 기종의 컴퓨터들이 데이터를 주고 받을 수 있도록 하는 표준 프로토콜 (레이어 4개)
 
- 지금까지 OSI에 대해 알아보았지만, 사실 현대 인터넷은 OSI가 아니라 TCP/IP 모델을 따르고 있다. 시장 점뮤율 싸움에서 TCP/IP 가 이겼기 때문이다. 따라서 OSI는 개념적 모델로 통신에는 실질적으로 사용되지 않는다!




---

<참고자료> 
[네트워크 | OSI 7 계층 그림과 함께 이해하기](https://velog.io/@jeongs/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-OSI-7-%EA%B3%84%EC%B8%B5-%EA%B7%B8%EB%A6%BC%EA%B3%BC-%ED%95%A8%EA%BB%98-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0)
[히히의 OSI 7 Laye](https://www.youtube.com/watch?v=1pfTxp25MA8&t=1905s)
